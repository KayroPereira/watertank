<div class="main" *ngIf="{status: authenticated$ | async} as isAuthenticated">
  <div class="nav-menu">
    <mat-toolbar>
      <button class="small-icon-button" mat-icon-button (click)="drawer.toggle()">
        <mat-icon>menu</mat-icon>
      </button>
      <span>Water Tank Manager</span>
      <span class="menu-spacer"></span>

      <div class="button-control">
        <div *ngIf="!isAuthenticated.status">
          <button class="small-icon-button" mat-icon-button routerLink="auth/login">
            <mat-icon>login</mat-icon>
          </button>
          <button class="small-icon-button" mat-icon-button routerLink="auth/register">
            <mat-icon>post_add</mat-icon>
          </button>
        </div>

        <div *ngIf="isAuthenticated.status">
          <button class="small-icon-button" mat-icon-button (click)="logout()">
            <mat-icon>logout</mat-icon>
          </button>
        </div>
      </div>
    </mat-toolbar>
  </div>
  
  <div class="main-body">
    <mat-drawer-container autosize hasBackdrop="false">
      <mat-drawer #drawer mode="side">
        <button mat-button class="menu-custom-button" [disabled]="!isAuthenticated.status">Dashboard</button>
        <button mat-button class="menu-custom-button" [disabled]="!isAuthenticated.status">Add Devices</button>
      </mat-drawer>

      <mat-drawer-content>
        <div class="desktop">
          <router-outlet></router-outlet>
        </div>
      </mat-drawer-content>    
    </mat-drawer-container>
  </div>
</div>